(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{133:function(e,t,a){},189:function(e,t,a){},263:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(22),r=a.n(s),o=(a(189),a(20)),i=(a(133),a(320)),j=a(321),l=a(322),b=a(323),d=a(181),m=a(52),h=a(319),u=a(317),O=a(318),x=(a(114),a(16)),p=a(48),f=a(4);var g=function(e){var t=e.socket;document.title="SecuroChat";var a=Object(c.useState)(""),n=Object(o.a)(a,2),s=n[0],r=n[1],g=Object(c.useState)(""),y=Object(o.a)(g,2),v=y[0],C=y[1],k=Object(c.useState)(!1),S=Object(o.a)(k,2),N=(S[0],S[1]),R=Object(c.useState)(!1),I=Object(o.a)(R,2),w=I[0],T=I[1],A=Object(c.useState)(!1),M=Object(o.a)(A,2),P=M[0],F=M[1],L=function(){T(!1)};return localStorage.setItem("username",s),P?Object(f.jsx)(x.a,{to:"/".concat(v)}):Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"header",children:Object(f.jsxs)("h1",{children:[Object(f.jsx)(i.a,{})," SecuroChat ",Object(f.jsx)(i.a,{})]})}),Object(f.jsxs)("div",{className:"form",children:[Object(f.jsxs)("div",{className:"form-header",children:[Object(f.jsx)("p",{children:"Create Room"}),Object(f.jsx)(m.a,{onClick:function(){T(!0)},shape:"circle",icon:Object(f.jsx)(j.a,{style:{color:"darkslategray"}})}),Object(f.jsxs)(h.a,{title:"Additional Information",visible:w,onOk:L,onCancel:L,footer:[Object(f.jsx)(m.a,{type:"primary",onClick:L,children:"OK"},"back")],children:[Object(f.jsx)("p",{children:"To create a room, enter in a username, this username is what you'll be recognized by. Then enter in a room code, this can be numbers, letters, or symbols. Once you create a room, you'll be in the chat room. You can invite your friends over to join and you can chat freely without having to worry about privacy!"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:'"We don\'t store any of your data."'}),Object(f.jsxs)("p",{children:["- ",Object(f.jsx)("a",{href:"http://arpanneupane.com",target:"__blank",children:"Arpan Neupane"})," (Creator of SecuroChat)"]})]})]})]}),Object(f.jsxs)(u.a,{name:"basic",initialValues:{remember:!0},size:"large",children:[Object(f.jsx)(u.a.Item,{placeholder:"name",name:"name",style:{textAlign:"left !important"},rules:[{required:!0,message:"Please input your name!"}],children:Object(f.jsx)(O.a,{onChange:function(e){return r(e.target.value)},prefix:Object(f.jsx)(l.a,{className:"site-form-item-icon",style:{marginRight:"8px"}}),placeholder:"Name"})}),Object(f.jsx)(u.a.Item,{name:"roomCode",rules:[{required:!0,message:"Please input the room code!"}],children:Object(f.jsx)(O.a,{onChange:function(e){return C(e.target.value)},prefix:Object(f.jsx)(b.a,{className:"site-form-item-icon",style:{marginRight:"8px"}}),placeholder:"Room Code"})}),Object(f.jsx)(u.a.Item,{style:{width:"75%",marginLeft:"auto",marginRight:"auto",marginTop:"8px"},children:Object(f.jsx)(m.a,{style:{width:"100%",borderRadius:"7.5px"},type:"primary",htmlType:"submit",onClick:function(){fetch("/api/".concat(v)).then((function(e){return e.json()})).then((function(e){var a=e.code;"not found"===a&&s!==v&&(t.emit("createRoom",{user:s,code:v}),F(!0)),s===v&&d.b.error("Your name cannot be the same as the room code."),"not found"!==a&&(N(!0),d.b.error("Room code already exists."))}))},children:"Create Room"})})]}),Object(f.jsxs)("div",{className:"link",children:["Need to join a room? Click ",Object(f.jsx)(p.b,{to:"/join",children:"here"}),"."]})]})]})};var y,v,C,k=function(e){var t=e.socket;document.title="SecuroChat - Join Room";var a=Object(c.useState)(""),n=Object(o.a)(a,2),s=n[0],r=n[1],g=Object(c.useState)(""),y=Object(o.a)(g,2),v=y[0],C=y[1],k=Object(c.useState)(!1),S=Object(o.a)(k,2),N=(S[0],S[1]),R=Object(c.useState)(!1),I=Object(o.a)(R,2),w=I[0],T=I[1],A=Object(c.useState)(!1),M=Object(o.a)(A,2),P=M[0],F=M[1],L=function(){T(!1)};return localStorage.setItem("username",s),P?Object(f.jsx)(x.a,{to:"/".concat(v)}):Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"header",children:Object(f.jsxs)("h1",{children:[Object(f.jsx)(i.a,{})," SecuroChat ",Object(f.jsx)(i.a,{})]})}),Object(f.jsxs)("div",{className:"form",children:[Object(f.jsxs)("div",{className:"form-header",children:[Object(f.jsx)("p",{children:"Join Room"}),Object(f.jsx)(m.a,{onClick:function(){T(!0)},shape:"circle",icon:Object(f.jsx)(j.a,{style:{color:"darkslategray"}})}),Object(f.jsxs)(h.a,{title:"Additional Information",visible:w,onOk:L,onCancel:L,footer:[Object(f.jsx)(m.a,{type:"primary",onClick:L,children:"OK"},"back")],children:[Object(f.jsx)("p",{children:"To join a room, enter in a username, this is the name you'll be recognized by other people in the room. Then enter in a valid room, it has to exist in order for you to join. Once you're in the room, you can chat freely without worrying about privacy!"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:'"We don\'t store any of your data."'}),Object(f.jsxs)("p",{children:["- ",Object(f.jsx)("a",{href:"http://arpanneupane.com",target:"__blank",children:"Arpan Neupane"})," (Creator of SecuroChat)"]})]})]})]}),Object(f.jsxs)(u.a,{name:"basic",initialValues:{remember:!0},size:"large",children:[Object(f.jsx)(u.a.Item,{placeholder:"name",name:"name",style:{textAlign:"left !important"},rules:[{required:!0,message:"Please input your name!"}],children:Object(f.jsx)(O.a,{onChange:function(e){return r(e.target.value)},prefix:Object(f.jsx)(l.a,{className:"site-form-item-icon",style:{marginRight:"8px"}}),placeholder:"Name"})}),Object(f.jsx)(u.a.Item,{name:"roomCode",rules:[{required:!0,message:"Please input the room code!"}],children:Object(f.jsx)(O.a,{onChange:function(e){return C(e.target.value)},prefix:Object(f.jsx)(b.a,{className:"site-form-item-icon",style:{marginRight:"8px"}}),placeholder:"Room Code"})}),Object(f.jsx)(u.a.Item,{style:{width:"75%",marginLeft:"auto",marginRight:"auto",marginTop:"8px"},children:Object(f.jsx)(m.a,{style:{width:"100%",borderRadius:"7.5px"},type:"primary",htmlType:"submit",onClick:function(){fetch("/api/".concat(v)).then((function(e){return e.json()})).then((function(e){var a=e.code,c=e.users;"not found"===a&&(N(!1),d.b.error("Room code does not exist.")),"not found"!==a&&(N(!0),-1!==c.indexOf(s)&&d.b.error("User with that name already exists."),v===s?d.b.error("Your name cannot be the same as the room code."):(t.emit("joinRoom",{user:s,code:v}),F(!0)))}))},children:"Join Room"})})]}),Object(f.jsxs)("div",{className:"link",children:["Need to create a room? Click ",Object(f.jsx)(p.b,{to:"/create",children:"here"}),"."]})]})]})},S=a(130),N=a(110),R=a(324),I=a(325),w=a(326),T=(a(263),a(111)),A=a(175),M=a.n(A),P=a(176),F=a.n(P),L=T.a.div(y||(y=Object(N.a)(["\nbackground-color: rgb(0,140,255);\npadding: 8px;\ncolor: #fff;\nborder-radius: 4px;\nmargin-bottom: 6px\n"]))),z=T.a.div(v||(v=Object(N.a)(["\n"]))),J=T.a.div(C||(C=Object(N.a)(["\n"])));var q=function(e){var t=e.socket,a=Object(x.g)().code;document.title="SecuroChat - ".concat(a);var n=Object(c.useState)(""),s=Object(o.a)(n,2),r=s[0],j=s[1],b=Object(c.useState)([]),p=Object(o.a)(b,2),g=p[0],y=p[1],v=Object(c.useState)(!1),C=Object(o.a)(v,2),k=C[0],N=C[1],T=Object(c.useState)(!1),A=Object(o.a)(T,2),P=A[0],q=A[1],V=Object(c.useState)(0),_=Object(o.a)(V,2),U=_[0],Y=_[1],B=Object(c.useState)([]),E=Object(o.a)(B,2),K=E[0],W=E[1],D=u.a.useForm(),G=Object(o.a)(D,1)[0],H=function(){N(!1)};return Object(c.useEffect)((function(){t.emit("connectUser",localStorage.getItem("username")),t.on("sysMessage",(function(e){d.b.info("".concat(e))})),t.on("chat",(function(e){null!==e.sender&&""!==e.message&&(y((function(t){return[].concat(Object(S.a)(t),[e])})),j(""),console.log(g))})),t.on("botChat",(function(e){null!==e.sender&&""!==e.message&&y((function(t){return[].concat(Object(S.a)(t),[e])}))})),t.on("inputMessage",(function(){d.b.warning("Please input a message!")})),t.on("redirect",(function(){q(!0)})),t.on("joined",(function(e){Y(e.length),W(e)})),t.on("left",(function(e,t){var a=e.indexOf(t);e.splice(a,1),W(e),Y(e.length)}))}),[]),""===localStorage.getItem("username")?Object(f.jsx)(x.a,{to:"/join"}):P?Object(f.jsx)(x.a,{to:"/create"}):Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"header",children:Object(f.jsxs)("h1",{children:[Object(f.jsx)(i.a,{})," SecuroChat ",Object(f.jsx)(i.a,{})]})}),Object(f.jsxs)("div",{className:"message-box",children:[Object(f.jsxs)("div",{className:"messages-header",children:[Object(f.jsxs)("p",{children:["Messages ",Object(f.jsx)(R.a,{})]}),Object(f.jsxs)("p",{style:{cursor:"pointer"},onClick:function(){N(!0)},children:[Object(f.jsx)(l.a,{})," ",U]}),Object(f.jsxs)(h.a,{title:"Users In Room",visible:k,onOk:H,onCancel:H,footer:[Object(f.jsx)(m.a,{type:"primary",onClick:H,children:"Close"},"back")],children:[Object(f.jsx)(l.a,{})," ",U,Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),K.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:e})},e.id)}))]}),Object(f.jsx)("a",{href:"/",children:Object(f.jsxs)("p",{title:"Leave Room",children:["Leave ",Object(f.jsx)(I.a,{})]})})]}),Object(f.jsx)(F.a,{className:"messages",children:g.map((function(e){return Object(f.jsxs)(L,{children:[Object(f.jsx)(z,{children:e.time}),Object(f.jsxs)(J,{children:[e.sender,": ",e.message]})]},e.id)}))}),Object(f.jsx)("div",{className:"message-form",children:Object(f.jsxs)(u.a,{form:G,style:{marginTop:"20px",display:"flex"},name:"basic",initialValues:{remember:!0},size:"large",children:[Object(f.jsx)(u.a.Item,{placeholder:"Message",name:"message",style:{textAlign:"left !important",marginRight:"8px"},children:Object(f.jsx)(O.a,{onChange:function(e){return j(e.target.value)},style:{borderRadius:"4px"},prefix:Object(f.jsx)(i.a,{className:"site-form-item-icon",style:{marginRight:"8px"}}),placeholder:"Message"})}),Object(f.jsx)(u.a.Item,{children:Object(f.jsxs)(m.a,{title:"Send Message",style:{width:"100%",borderRadius:"4px"},type:"primary",htmlType:"submit",onClick:function(){return function(){var e=localStorage.getItem("username");t.emit("message",{sender:e,message:r,time:M()().format("h:mm a")}),G.setFieldsValue({message:""})}()},children:["Send ",Object(f.jsx)(w.a,{})]})})]})})]})]})},V=a(178),_=Object(V.io)();var U=function(){return Object(f.jsx)(p.a,{children:Object(f.jsxs)(x.d,{children:[Object(f.jsx)(x.b,{exact:!0,path:"/",children:Object(f.jsx)(g,{socket:_})}),Object(f.jsx)(x.b,{exact:!0,path:"/create",children:Object(f.jsx)(g,{socket:_})}),Object(f.jsx)(x.b,{exact:!0,path:"/join",children:Object(f.jsx)(k,{socket:_})}),Object(f.jsx)(x.b,{exact:!0,path:"/:code?",children:Object(f.jsx)(q,{socket:_})})]})})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,327)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(U,{})}),document.getElementById("root")),Y()}},[[315,1,2]]]);
//# sourceMappingURL=main.5772b7b1.chunk.js.map